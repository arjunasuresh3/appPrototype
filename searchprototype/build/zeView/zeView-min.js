YUI.add("zeView",function(e,t){function i(){i.superclass.constructor.apply(this,arguments)}var n=e.Array.each,r=e.Object.each;e.ZeView=e.extend(i,e.Base,{contentBoxTemplate:"<div/>",events:{},template:"",cssPrefix:"ze-view-",_eventHandles:null,_modelEventHandles:null,_destroyOnExit:null,_contentBox:null,initializer:function(t){t||(t={}),t.contentBoxTemplate&&(this.contentBoxTemplate=t.contentBoxTemplate),t.template&&(this.template=t.template),this.events=t.events?e.merge(this.events,t.events):this.events,"model"in t&&this._modelChange(t.model),this.after("modelChange",function(e){this._modelChange(e.newVal,e.prevVal)},this),this._eventHandles=[],this._destroyOnExit=[]},destructor:function(){this._detachEvents(),n(this._destroyOnExit,function(e){e&&e.destroy&&e.destroy()}),this._modelChange();var e=this._contentBox;e&&e.setHTML(""),delete this._contentBox},remove:function(){var e=this.get("contentBox");return e&&e.remove(),this},render:function(t){var n=this._contentBoxGetter();return this._refresh(),t&&e.one(t).setHTML(n),this},_refresh:function(){var t=this.get("model");return this._contentBox.setHTML(t?e.Lang.sub(this.template,t.toJSON()):this.template),this},_attachEvents:function(){var t=this.get("contentBox"),i=this,s={};return n(this._classes,function(t){t.prototype.events&&e.mix(s,t.prototype.events)}),r(s,function(e,n){r(e,function(e,r){typeof e=="string"&&(e=i[e]);if(!e)return;i._eventHandles.push(t.delegate(r,e,n,i))})}),i},_detachEvents:function(){return n(this._eventHandles,function(e){e&&e.detach&&e.detach()}),this._eventHandles=[],this},_contentBoxGetter:function(){var t=this._contentBox;return t||(t=this._contentBox=e.Node.create(this.contentBoxTemplate),t.addClass(this.cssPrefix+this.name),this._attachEvents()),t},_modelChange:function(e,t){n(this._modelEventHandles,function(e){e.detach()}),e&&(e._isYUIModelList?this._modelEventHandles=[e.after(["*:change","add","create","remove","reset"],this._refresh,this)]:e._isYUIModel&&(this._modelEventHandles=[e.after("change",this._refresh,this)]),this._modelEventHandles.push(e.after("destroy",this.destroy,this)),this._contentBox&&this._refresh())}},{NAME:t,ATTRS:{contentBox:{getter:"_contentBoxGetter",readOnly:!0},model:{value:null}}})},"@VERSION@",{requires:["view","contentSwapper","calendar","base-build","datatype-date","event-outside","event-focus"]});
